(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),c=n.n(o),i=n(51),s=n(18),l=n(33),u=n(173),p=n(166),m=n(121),f=n(172),b=n(167),y=n(34),d=function(e){return{type:"FETCH_POST",posts:e}},g=n(29),h=n.n(g),O=n(44),E=n(56);Object(E.initializeApp)({apiKey:"AIzaSyDbwNI5FhYkPtY4LXFMyMoRCruGDQKDnLQ",databaseURL:"https://my-app-a3576.firebaseio.com/"});var v=Object(E.database)(),j=function(){var e=Object(O.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,v.ref("posts").once("value",function(e){e.forEach(function(e){var n=e.key,a=e.val();t.push({key:n,title:a.title,post:a.post})})});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(O.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.ref("posts").push(t).key;case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(O.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.ref("posts/"+t).remove();case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(O.a)(h.a.mark(function e(t,n){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.ref("posts/"+t).set(n);case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),D=n(10),S=n(3),x=n(80),C=n(170),N=n(168),T=n(83),R=n.n(T),F=n(163),A=n(162),_=n(164),V=n(165),W=n(88),z=n(175),H=n(4),I=n(75),L=n.n(I),M=n(78),U=n.n(M),q=n(79),B=n.n(q),J=n(82),K=n.n(J),Q=n(81),Y=n.n(Q),G=n(160),X=n(161),$=n(77),Z=n.n($);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var te={success:L.a,warning:Z.a,error:U.a,info:B.a},ne=Object(x.a)(function(e){return{success:{backgroundColor:G.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:X.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}),ae=Object(x.a)(function(e){return{root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}});function re(e){var t=e.children,n=e.window,a=ae(),o=Object(A.a)({target:n?n():void 0,disableHysteresis:!0,threshold:100});return r.a.createElement(F.a,{in:o},r.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:a.root},t))}function oe(e){var t=ne(),n=e.className,a=e.message,o=e.onClose,c=e.variant,i=Object(S.a)(e,["className","message","onClose","variant"]),s=te[c];return r.a.createElement(_.a,Object.assign({className:Object(H.a)(t[c],n),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(s,{className:Object(H.a)(t.icon,t.iconVariant)}),a),action:[r.a.createElement(V.a,{key:"close","aria-label":"close",color:"inherit",onClick:o},r.a.createElement(Y.a,{className:t.icon}))]},i))}var ce=Object(x.a)(function(e){return{margin:{margin:e.spacing(1)},paper:{width:"75%",padding:e.spacing(3,2),margin:"auto",marginBottom:"10px",boxSizing:"border-box",border:"1px solid grey",boxShadow:"1px 2px grey"},typography:{margin:"5px",whiteSpace:"pre-wrap"},center:{margin:"auto"}}});var ie=Object(y.b)(function(e){return{posts:e.postReducer.posts}},function(e){return{getPosts:function(t){return e(d(t))},deletePost:function(t){return e(function(e){return{type:"REMOVE_POST",key:e}}(t))}}})(function(e){var t=ce(),n=Object(a.useState)({open:!1,message:"Dummmy",varient:"error"}),o=Object(i.a)(n,2),c=o[0],s=o[1];function u(e,t){"clickaway"!==t&&s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach(function(t){Object(D.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},c,{open:!1}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{id:"back-to-top-anchor"}),r.a.createElement(p.a,null,r.a.createElement("div",{className:t.center},r.a.createElement(l.b,{style:{textDecoration:"none"},to:{pathname:"/post",state:{isEdit:!1}}},r.a.createElement(b.a,null,"ADD NEW POST")),r.a.createElement(b.a,{onClick:function(){j().then(function(t){e.getPosts(t),s({open:!0,message:"Successfully fetched the Posts",varient:"success"})})}},"REFRESH"))),r.a.createElement(N.a,{container:!0,direction:"column"},e.posts?e.posts.map(function(n){return r.a.createElement(N.a,{item:!0,key:n.key},r.a.createElement(W.a,{className:t.paper},r.a.createElement(N.a,{container:!0},r.a.createElement(N.a,{item:!0},r.a.createElement(l.b,{style:{textDecoration:"none"},to:{pathname:"/post",state:{post:n,isEdit:!0}}},r.a.createElement(m.a,{variant:"h5",component:"h3",className:t.typography},n.title))),r.a.createElement(N.a,{item:!0,style:{marginLeft:"auto"}},r.a.createElement(b.a,{style:{marginLeft:"auto"},onClick:function(){P(n.key).then(function(t){e.deletePost(n.key),s({open:!0,message:"Successfully deleted the Post",varient:"success"})})}},r.a.createElement(K.a,null)))),r.a.createElement(m.a,{className:t.typography,component:"p"},n.post)))}):null),r.a.createElement(z.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:c.open,autoHideDuration:2e3,onClose:u},r.a.createElement(oe,{onClose:u,variant:c.varient,message:c.message})),r.a.createElement(re,e,r.a.createElement(C.a,{color:"secondary",size:"small","aria-label":"scroll back to top"},r.a.createElement(R.a,null))))}),se=n(174),le=n(171),ue=n(87);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var me=Object(x.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}});var fe=Object(y.b)(function(e){return{posts:e.postReducer.posts}},function(e){return{addPost:function(t){return e(function(e){return{type:"ADD_POST",post:e}}(t))},updatePost:function(t,n){return e(function(e,t){return{type:"UPDATE_POST",post:t,key:e}}(t,n))}}})(Object(s.f)(function(e){var t=me(),n=!1,a={title:"",post:""};return e.location.state&&(n=e.location.state.isEdit,a=e.location.state.post?e.location.state.post:a),r.a.createElement(le.a,{component:"main",maxWidth:"xs"},r.a.createElement(f.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(m.a,{component:"h1",variant:"h5"},"Add New Post"),r.a.createElement(ue.a,{initialValues:{title:a.title,post:a.post},onSubmit:function(t){n?k(a.key,t).then(function(){e.updatePost(a.key,t),e.history.push("/")}):w(t).then(function(n){e.addPost(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach(function(t){Object(D.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{key:n})),e.history.push("/")})},render:function(e){var a=e.values,o=(e.errors,e.touched,e.setFieldValue,e.handleChange),c=e.handleSubmit;return r.a.createElement("form",{onSubmit:c},r.a.createElement(se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title",name:"title",onChange:o,value:a.title,autoFocus:!0}),r.a.createElement(se.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"post",label:"Post",value:a.post,id:"post",onChange:o,multiline:!0,rows:8}),r.a.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},n?"Update":"Post"))}})))}));function be(){return r.a.createElement("div",null,"404 Not Found")}var ye=Object(y.b)(function(e){return{posts:e.postReducer.posts}},function(e){return{getPosts:function(t){return e(d(t))}}})(function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),o=n[0],c=n[1];return o||(j().then(function(t){e.getPosts(t)}),c(!0)),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null),r.a.createElement(u.a,null,r.a.createElement(p.a,null,r.a.createElement(l.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(b.a,{color:"inherit"},r.a.createElement(m.a,{variant:"h6",style:{color:"white"}},"Home"))),r.a.createElement(m.a,{variant:"h6",style:{marginLeft:"auto"}},"Number of Posts: ".concat(e.posts.length)))),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:ie}),r.a.createElement(s.a,{path:"/post",component:fe}),r.a.createElement(s.a,{path:"/",component:be})))}),de=n(43),ge=n(24);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(n,!0).forEach(function(t){Object(D.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ee={posts:[]},ve=function(e,t){return{posts:[].concat(Object(ge.a)(e.posts),[Oe({},t.post)])}},je=function(e,t){return{posts:t.posts}},we=function(e,t){return{posts:e.posts.filter(function(e){return e.key!==t.key})}},Pe=function(e,t){return{posts:e.posts.map(function(e){return e.key!==t.key?e:Oe({},t.post,{key:t.key})})}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return ve(e,t);case"REMOVE_POST":return we(e,t);case"UPDATE_POST":return Pe(e,t);case"FETCH_POST":return je(0,t);default:return e}},De=Object(de.b)({postReducer:ke}),Se=Object(de.c)(De);var xe=function(){return r.a.createElement(y.a,{store:Se},r.a.createElement(l.a,null,r.a.createElement(ye,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},95:function(e,t,n){e.exports=n(120)}},[[95,1,2]]]);
//# sourceMappingURL=main.815d23f3.chunk.js.map